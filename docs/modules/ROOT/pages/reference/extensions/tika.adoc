// Do not edit directly!
// This file was generated by camel-quarkus-maven-plugin:update-extension-doc-page
[id="extensions-tika"]
= Tika
:page-aliases: extensions/tika.adoc
:linkattrs:
:cq-artifact-id: camel-quarkus-tika
:cq-native-supported: true
:cq-status: Stable
:cq-status-deprecation: Stable
:cq-description: Parse documents and extract metadata and text using Apache Tika.
:cq-deprecated: false
:cq-jvm-since: 1.0.0
:cq-native-since: 1.0.0

ifeval::[{doc-show-badges} == true]
[.badges]
[.badge-key]##JVM since##[.badge-supported]##1.0.0## [.badge-key]##Native since##[.badge-supported]##1.0.0##
endif::[]

Parse documents and extract metadata and text using Apache Tika.

[id="extensions-tika-whats-inside"]
== What's inside

* xref:{cq-camel-components}::tika-component.adoc[Tika component], URI syntax: `tika:operation`

Please refer to the above link for usage and configuration details.

[id="extensions-tika-maven-coordinates"]
== Maven coordinates

https://{link-quarkus-code-generator}/?extension-search=camel-quarkus-tika[Create a new project with this extension on {link-quarkus-code-generator}, window="_blank"]

Or add the coordinates to your existing project:

[source,xml]
----
<dependency>
    <groupId>org.apache.camel.quarkus</groupId>
    <artifactId>camel-quarkus-tika</artifactId>
</dependency>
----
ifeval::[{doc-show-user-guide-link} == true]
Check the xref:user-guide/index.adoc[User guide] for more information about writing Camel Quarkus applications.
endif::[]

[id="extensions-tika-camel-quarkus-limitations"]
== Camel Quarkus limitations

Parameters `tikaConfig` and `tikaConfigUri` are not available in quarkus camel tika extension. Configuration
can be changed only via `application.properties`.

While you can use any of the available https://tika.apache.org/1.24.1/formats.html[Tika parsers] in JVM mode,
only some of those are supported in native mode - see the https://quarkiverse.github.io/quarkiverse-docs/quarkus-tika/dev/index.html[Quarkus Tika guide].

PDF and ODF parsers can not be used both in JVM mode or in the native mode. Pdf extension is suggested for purposes of pdf consumption to avoid a version conflict between Camel and Quarkus-tika extension involving PdfBox dependency.

Use of the Tika parser without any configuration will initialize all available parsers. Unfortunately as some of them
don't work in the native mode, the whole execution will fail.

In order to make the Tika parser work in the native mode, selection of parsers for initialization should be used.

* `quarkus.tika.parsers` Comma separated list of parsers (abbreviations). There are two predefined parsers:
`pdf` and `odf`.
* `quarkus.tika.parser.*` Adds new parser abbreviation to be used with previous property. Value is the full class of
the parser.

Example of `application.properties`:
[source,properties]
----
quarkus.tika.parsers = pdf,odf,office
quarkus.tika.parser.office = org.apache.tika.parser.microsoft.OfficeParser
----

For more information about selecting parsers see the https://quarkiverse.github.io/quarkiverse-docs/quarkus-tika/dev/index.html[Quarkus Tika guide].

You may need to add the `quarkus-awt` extension to build the native image. For more information, see https://quarkiverse.github.io/quarkiverse-docs/quarkus-tika/dev/index.html[Quarkus Tika guide].



[id="extensions-tika-additional-camel-quarkus-configuration"]
== Additional Camel Quarkus configuration

[width="100%",cols="80,5,15",options="header"]
|===
| Configuration property | Type | Default


|icon:lock[title=Fixed at build time] [[quarkus.camel.tika.tika-config-path]]`link:#quarkus.camel.tika.tika-config-path[quarkus.camel.tika.tika-config-path]`

The resource path within the application artifact to the `tika-config.xml` file.
| `string`
| 

|icon:lock[title=Fixed at build time] [[quarkus.camel.tika.parsers]]`link:#quarkus.camel.tika.parsers[quarkus.camel.tika.parsers]`

Comma separated list of the parsers which must be supported.

Most of the document formats recognized by Apache Tika are supported by default but it affects the application memory and native executable sizes. One can list only the required parsers in `tika-config.xml` to minimize a number of parsers loaded into the memory, but using this property is recommended to achieve both optimizations.

Either the abbreviated or full parser class names can be used. Only PDF and OpenDocument format parsers can be listed using the reserved 'pdf' and 'odf' abbreviations. Custom class name abbreviations have to be used for all other parsers. For example:

```
// Only PDF parser is required:
quarkus.tika.parsers = pdf
// Only PDF and OpenDocument parsers are required:
quarkus.tika.parsers = pdf,odf
```

This property will have no effect if the `tikaConfigPath' property has been set.
| `string`
| 

|icon:lock[title=Fixed at build time] [[quarkus.camel.tika.append-embedded-content]]`link:#quarkus.camel.tika.append-embedded-content[quarkus.camel.tika.append-embedded-content]`

Controls how the content of the embedded documents is parsed. By default it is appended to the main document content. Setting this property to false makes the content of each of the embedded documents available separately.
| `boolean`
| `true`

|icon:lock[title=Fixed at build time] [[quarkus.camel.tika.parser-options]]`link:#quarkus.camel.tika.parser-options[quarkus.camel.tika.parser-options]`

Configuration of the individual parsers. For example:

```
quarkus.tika.parsers = pdf,odf
quarkus.tika.parser-options.pdf.sort-by-position = true
```
| ``Map<String,Map<String,String>>``
| 

|icon:lock[title=Fixed at build time] [[quarkus.camel.tika.parser]]`link:#quarkus.camel.tika.parser[quarkus.camel.tika.parser]`

Full parser class name for a given parser abbreviation. For example:

```
quarkus.tika.parsers = classparser
quarkus.tika.parser.classparser = org.apache.tika.parser.asm.ClassParser
```
| ``Map<String,String>``
| 
|===

[.configuration-legend]
{doc-link-icon-lock}[title=Fixed at build time] Configuration property fixed at build time. All other configuration properties are overridable at runtime.

